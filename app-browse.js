const library = [
    {
        name: 'Life of Pi',
        author: 'Yann Martel',
        category: 'Adventure',
        price: 8.99,
        bookCover: './img/1.jpg',
        description: `The son of a zookeeper, Pi Patel has an encyclopedic knowledge of animal behavior and a fervent love of stories. When Pi is sixteen, his family emigrates from India to North America aboard a Japanese cargo ship, along with their zoo animals bound for new homes.
        The ship sinks. Pi finds himself alone in a lifeboat, his only companions a hyena, an orangutan, a wounded zebra, and Richard Parker, a 450-pound Bengal tiger. Soon the tiger has dispatched all but Pi, whose fear, knowledge, and cunning allow him to coexist with Richard Parker for 227 days while lost at sea. When they finally reach the coast of Mexico, Richard Parker flees to the jungle, never to be seen again. The Japanese authorities who interrogate Pi refuse to believe his story and press him to tell them "the truth." After hours of coercion, Pi tells a second story, a story much less fantastical, much more conventional--but is it more true?`,
        link: 'https://www.amazon.com/dp/0156027321?linkCode=ogi'
    },
    {
        name: 'The Three Musketeers',
        author: 'Alexandre Dumas',
        category: 'Adventure',
        price: 14.99,
        bookCover: './img/2.jpg',
        description: `Alexandre Dumas’s most famous tale— and possibly the most famous historical novel of all time— in a handsome hardcover volume.

        This swashbuckling epic of chivalry, honor, and derring-do, set in France during the 1620s, is richly populated with romantic heroes, unattainable heroines, kings, queens, cavaliers, and criminals in a whirl of adventure, espionage, conspiracy, murder, vengeance, love, scandal, and suspense. Dumas transforms minor historical figures into larger- than-life characters: the Comte d’Artagnan, an impetuous young man in pursuit of glory; the beguilingly evil seductress “Milady”; the powerful and devious Cardinal Richelieu; the weak King Louis XIII and his unhappy queen—and, of course, the three musketeers themselves, Athos, Porthos, and Aramis, whose motto “all for one, one for all” has come to epitomize devoted friendship. With a plot that delivers stolen diamonds, masked balls, purloined letters, and, of course, great bouts of swordplay, The Three Musketeers is eternally entertaining. `,
        link: 'https://www.amazon.com/dp/1505234727?linkCode=ogi'
    },
    {
        name: 'The Call of the Wild',
        author: 'Jack London',
        category: 'Adventure',
        price: 5.99,
        bookCover: './img/3.jpg',
        description: `The Call of the Wild is a novel by Jack London published in 1903. The story is set in the Yukon during the 1890s Klondike Gold Rush—a period in which strong sled dogs were in high demand. The novel's central character is a dog named Buck, a domesticated dog living at a ranch in the Santa Clara Valley of California as the story opens. Stolen from his home and sold into service as sled dog in Alaska, he reverts to a wild state. Buck is forced to fight in order to dominate other dogs in a harsh climate. Eventually he sheds the veneer of civilization, relying on primordial instincts and learned experience to emerge as a leader in the wild.London lived for most of a year in the Yukon collecting material for the book. The story was serialized in the Saturday Evening Post in the summer of 1903; a month later it was released in book form. The novel’s great popularity and success made a reputation for London. Much of its appeal derives from the simplicity of this tale of survival. As early as 1908 the story was adapted to film and it has since seen several more cinematic adaptations.`,
        link: 'https://www.amazon.com/dp/151239582X?linkCode=ogi'
    },
    {
        name: 'To Kill a Mockingbird',
        author: 'Harper Lee',
        category: 'Classics',
        price: 7.19,
        bookCover: './img/4.jpg',
        description: `One of the most cherished stories of all time, To Kill a Mockingbird has been translated into more than forty languages, sold more than forty million copies worldwide, served as the basis for an enormously popular motion picture, and was voted one of the best novels of the twentieth century by librarians across the country. A gripping, heart-wrenching, and wholly remarkable tale of coming-of-age in a South poisoned by virulent prejudice, it views a world of great beauty and savage inequities through the eyes of a young girl, as her father—a crusading local lawyer—risks everything to defend a black man unjustly accused of a terrible crime.`,
        link: 'https://www.amazon.com/dp/0060935464?linkCode=ogi'
    },
    {
        name: 'Little Women',
        author: 'Louisa May Alcott',
        category: 'Classics',
        price: 18.99,
        bookCover: './img/5.jpg',
        description: `For generations, children around the world have come of age with Louisa May Alcott's March girls: hardworking eldest sister Meg, headstrong, impulsive Jo, timid Beth, and precocious Amy. With their father away at war, and their loving mother Marmee working to support the family, the four sisters have to rely on one another for support as they endure the hardships of wartime and poverty. We witness the sisters growing up and figuring out what role each wants to play in the world, and, along the way, join them on countless unforgettable adventures.
        Readers young and old will fall in love with this beloved classic, at once a lively portrait of nineteenth-century family life and a feminist novel about young women defying society's expectations.`,
        link: 'https://www.amazon.com/dp/0316489271?linkCode=ogi'
    },
    {
        name: 'Beloved',
        author: 'Toni Morrison',
        category: 'Classics',
        price: 12.19,
        bookCover: './img/6.jpg',
        description: `Sethe, its protagonist, was born a slave and escaped to Ohio, but eighteen years later she is still not free. She has too many memories of Sweet Home, the beautiful farm where so many hideous things happened. And Sethe’s new home is haunted by the ghost of her baby, who died nameless and whose tombstone is engraved with a single word: Beloved. Filled with bitter poetry and suspense as taut as a rope, Beloved is a towering achievement.`,
        link: 'https://www.amazon.com/dp/1400033411?linkCode=ogi'
    },
    {
        name: 'The Night Fire',
        author: 'Michael Connelly',
        category: 'Mystery',
        price: 14.49,
        bookCover: './img/7.jpg',
        description: `Back when Harry Bosch was just a rookie homicide detective, he had an inspiring mentor who taught him to take the work personally and light the fire of relentlessness for every case. Now that mentor, John Jack Thompson, is dead, and his widow gives Bosch a murder book, one that Thompson took with him when he left the LAPD twenty years before -- the unsolved killing of a troubled young man.

        Bosch takes the murder book to Detective Renée Ballard and asks her to help him discover what about this crime lit Thompson's fire all those years ago. As she begins her inqueries -- while still working her own cases on the midnight shift -- Ballad finds aspects of the initial investigation that just don't add up.
        
        The bond between Bosch and Ballard tightens as they become a formidable investigation team. And they soon arrive at a disturbing question: Did Thompson steal the murder book to work the case in retirement, or to make sure it never got solved?
        
        Written with the intense pacing and masterful suspense that have made Michael Connelly "the hard-boiled fiction master of our time" (NPR), The Night Fire continues the unofficial partnership of two fierce detectives determined not to let the fire with burn out.`,
        link: 'https://www.amazon.com/dp/0316485616?linkCode=ogi'
    },
    {
        name: 'The Adventures of Sherlock Holmes',
        author: 'Sir Arthur Conan Doyle',
        category: 'Mystery',
        price: 7.99,
        bookCover: './img/8.jpg',
        description: `The Adventures of Sherlock Holmes is a collection of twelve stories written by Arthur Conan Doyle, featuring his famous detective. Venture back in time to Victorian London to join literature's greatest detective team — the brilliant Sherlock Holmes and his devoted assistant, Dr. Watson — as they investigate a dozen of their best-known cases. Originally published in 1892, this is the first and best collection of stories about the legendary sleuth. It's also the least expensive edition available. Featured tales include several of the author's personal favorites: "A Scandal in Bohemia" — in which a king is blackmailed by a former lover and Holmes matches wits with the only woman to attract his open admiration — plus "The Speckled Band," "The Red-Headed League," and "The Five Orange Pips." Additional mysteries include "The Blue Carbuncle," "The Engineer’s Thumb," "The Beryl Coronet," "The Copper Beeches," and four others.`,
        link: 'https://www.amazon.com/dp/1508475318?linkCode=ogi'
    },
    {
        name: 'And Then There Were None',
        author: 'Agatha Christie',
        category: 'Mystery',
        price: 7.99,
        bookCover: './img/9.jpg',
        description: `"Ten . . ."
        Ten strangers are lured to an isolated island mansion off the Devon coast by a mysterious "U. N. Owen."
        
        "Nine . . ."
        At dinner a recorded message accuses each of them in turn of having a guilty secret, and by the end of the night one of the guests is dead.
        
        "Eight . . ."
        Stranded by a violent storm, and haunted by a nursery rhyme counting down one by one . . . as one by one . . . they begin to die.
        
        "Seven . . ."
        Which among them is the killer and will any of them survive?`,
        link: 'https://www.amazon.com/dp/0062073486?linkCode=ogi'
    },
    {
        name: 'The Water Dancer',
        author: 'Ta-Nehisi Coates',
        category: 'Fantasy',
        price: 19.79,
        bookCover: './img/10.jpg',
        description: `Young Hiram Walker was born into bondage. When his mother was sold away, Hiram was robbed of all memory of her—but was gifted with a mysterious power. Years later, when Hiram almost drowns in a river, that same power saves his life. This brush with death births an urgency in Hiram and a daring scheme: to escape from the only home he’s ever known.

        So begins an unexpected journey that takes Hiram from the corrupt grandeur of Virginia’s proud plantations to desperate guerrilla cells in the wilderness, from the coffin of the Deep South to dangerously idealistic movements in the North. Even as he’s enlisted in the underground war between slavers and the enslaved, Hiram’s resolve to rescue the family he left behind endures.
        
        This is the dramatic story of an atrocity inflicted on generations of women, men, and children—the violent and capricious separation of families—and the war they waged to simply make lives with the people they loved. Written by one of today’s most exciting thinkers and writers, The Water Dancer is a propulsive, transcendent work that restores the humanity of those from whom everything was stolen.
        `,
        link: 'https://www.amazon.com/dp/0399590595?linkCode=ogi'
    },
    {
        name: 'Circe',
        author: 'Madeline Miller',
        category: 'Fantasy',
        price: 11.99,
        bookCover: './img/11.jpg',
        description: `In the house of Helios, god of the sun and mightiest of the Titans, a daughter is born. But Circe is a strange child—not powerful, like her father, nor viciously alluring like her mother. Turning to the world of mortals for companionship, she discovers that she does possess power—the power of witchcraft, which can transform rivals into monsters and menace the gods themselves.

        Threatened, Zeus banishes her to a deserted island, where she hones her occult craft, tames wild beasts and crosses paths with many of the most famous figures in all of mythology, including the Minotaur, Daedalus and his doomed son Icarus, the murderous Medea, and, of course, wily Odysseus.
        
        But there is danger, too, for a woman who stands alone, and Circe unwittingly draws the wrath of both men and gods, ultimately finding herself pitted against one of the most terrifying and vengeful of the Olympians. To protect what she loves most, Circe must summon all her strength and choose, once and for all, whether she belongs with the gods she is born from, or the mortals she has come to love.`,
        link: 'https://www.amazon.com/dp/B074M5TLLJ?linkCode=ogi'
    },
    {
        name: 'Ninth House',
        author: 'Leigh Bardugo',
        category: 'Fantasy',
        price: 18.14,
        bookCover: './img/12.jpg',
        description: `Galaxy “Alex” Stern is the most unlikely member of Yale’s freshman class. Raised in the Los Angeles hinterlands by a hippie mom, Alex dropped out of school early and into a world of shady drug-dealer boyfriends, dead-end jobs, and much, much worse. In fact, by age twenty, she is the sole survivor of a horrific, unsolved multiple homicide. Some might say she’s thrown her life away. But at her hospital bed, Alex is offered a second chance: to attend one of the world’s most prestigious universities on a full ride. What’s the catch, and why her?

        Still searching for answers, Alex arrives in New Haven tasked by her mysterious benefactors with monitoring the activities of Yale’s secret societies. Their eight windowless “tombs” are the well-known haunts of the rich and powerful, from high-ranking politicos to Wall Street’s biggest players. But their occult activities are more sinister and more extraordinary than any paranoid imagination might conceive. They tamper with forbidden magic. They raise the dead. And, sometimes, they prey on the living.`,
        link: 'https://www.amazon.com/dp/1250313074?linkCode=ogi'
    },
    {
        name: 'Carrie',
        author: 'Stephen King',
        category: 'Horror',
        price: 6.99,
        bookCover: './img/13.jpg',
        description: `Stephen King's legendary debut, about a teenage outcast and the revenge she enacts on her classmates.
 
        Carrie White may be picked on by her classmates, but she has a gift. She can move things with her mind. Doors lock. Candles fall. This is her power and her problem. Then, an act of kindness, as spontaneous as the vicious taunts of her classmates, offers Carrie a chance to be a normal...until an unexpected cruelty turns her gift into a weapon of horror and destruction that no one will ever forget.`,
        link: 'https://www.amazon.com/dp/0307743667?linkCode=ogi'
    },
    {
        name: 'The Haunting of Hill House',
        author: 'Shirley Jackson',
        category: 'Horror',
        price: 11.79,
        bookCover: './img/14.jpg',
        description: `First published in 1959, Shirley Jackson's The Haunting of Hill House has been hailed as a perfect work of unnerving terror. It is the story of four seekers who arrive at a notoriously unfriendly pile called Hill House: Dr. Montague, an occult scholar looking for solid evidence of a "haunting"; Theodora, his lighthearted assistant; Eleanor, a friendless, fragile young woman well acquainted with poltergeists; and Luke, the future heir of Hill House. At first, their stay seems destined to be merely a spooky encounter with inexplicable phenomena. But Hill House is gathering its powers—and soon it will choose one of them to make its own.

        For more than seventy years, Penguin has been the leading publisher of classic literature in the English-speaking world. With more than 1,700 titles, Penguin Classics represents a global bookshelf of the best works throughout history and across genres and disciplines. Readers trust the series to provide authoritative texts enhanced by introductions and notes by distinguished scholars and contemporary authors, as well as up-to-date translations by award-winning translators`,
        link: 'https://www.amazon.com/dp/0143039989?linkCode=ogi'
    },
    {
        name: 'Bird Box',
        author: 'Josh Malerman',
        category: 'Horror',
        price: 6.99,
        bookCover: './img/15.jpg',
        description: `Something is out there, something terrifying that must not be seen. One glimpse of it, and a person is driven to deadly violence. No one knows what it is or where it came from.

        Five years after it began, a handful of scattered survivors remains, including Malorie and her two young children. Living in an abandoned house near the river, she has dreamed of fleeing to a place where they might be safe. Now that the boy and girl are four, it's time to go, but the journey ahead will be terrifying: twenty miles downriver in a rowboat—blindfolded—with nothing to rely on but her wits and the children's trained ears. One wrong choice and they will die. Something is following them all the while, but is it man, animal, or monster?
        
        Interweaving past and present, Bird Box is a snapshot of a world unraveled that will have you racing to the final page.`,
        link: 'https://www.amazon.com/dp/B00FJ352U6?linkCode=ogi'
    },

    {
        name: 'Gone Girl',
        author: 'Gillian Flynn',
        category: 'Thriller',
        price: 15.30,
        bookCover: './img/16.jpg',
        description: `On a warm summer morning in North Carthage, Missouri, it is Nick and Amy Dunne’s fifth wedding anniversary. Presents are being wrapped and reservations are being made when Nick’s clever and beautiful wife disappears. Husband-of-the-Year Nick isn’t doing himself any favors with cringe-worthy daydreams about the slope and shape of his wife’s head, but passages from Amy's diary reveal the alpha-girl perfectionist could have put anyone dangerously on edge. Under mounting pressure from the police and the media—as well as Amy’s fiercely doting parents—the town golden boy parades an endless series of lies, deceits, and inappropriate behavior. Nick is oddly evasive, and he’s definitely bitter—but is he really a killer? `,
        link: 'https://www.amazon.com/dp/0307588378?linkCode=ogi'
    },

    {
        name: 'The 19th Christmas',
        author: 'James Patterson',
        category: 'Thriller',
        price: 11.99,
        bookCover: './img/17.jpg',
        description: `As the holidays approach, Detective Lindsay Boxer and her friends in the Women's Murder Club have much to celebrate. Crime is down. The medical examiner's office is quiet. Even the courts are showing some Christmas spirit. And the news cycle is so slow that journalist Cindy Thomas is on assignment to tell a story about the true meaning of the season for San Francisco.
        Then a fearsome criminal known only as "Loman" seizes control of the headlines. Solving crimes never happens on schedule, but as this criminal mastermind unleashes credible threats by the hour, the month of December is upended for the Women's Murder Club. Avoiding tragedy is the only holiday miracle they seek`,
        link: 'https://www.amazon.com/dp/B07P1SSF9S?linkCode=ogi'
    },
    {
        name: 'The Guardians',
        author: 'John Grisham',
        category: 'Thriller',
        price: 11.91,
        bookCover: './img/18.jpg',
        description: `In the small Florida town of Seabrook, a young lawyer named Keith Russo was shot dead at his desk as he worked late one night. The killer left no clues. There were no witnesses, no one with a motive. But the police soon came to suspect Quincy Miller, a young black man who was once a client of Russo’s. 

        Quincy was tried, convicted, and sent to prison for life. For twenty-two years he languished in prison, maintaining his innocence.  But no one was listening.  He had no lawyer, no advocate on the outside. In desperation, he writes a letter to Guardian Ministries, a small nonprofit run by Cullen Post, a lawyer who is also an Episcopal minister.
        
        Guardian accepts only a few innocence cases at a time.  Cullen Post travels the country fighting wrongful convictions and taking on clients forgotten by the system. With Quincy Miller, though, he gets far more than he bargained for. Powerful, ruthless people murdered Keith Russo, and they do not want Quincy Miller exonerated.
        
        They killed one lawyer twenty-two years ago, and they will kill another without a second thought.`,
        link: 'https://www.amazon.com/dp/0385544189?linkCode=ogi'
    }
];

const booksContainer = document.querySelector('.books-container');
const btnsContainer = document.querySelector('.btns-container');
let modalBtn;


window.addEventListener('DOMContentLoaded', function () {
    displayBooksList(library);
    displayBtnCategories();
    displayModal();
});


//display books
function displayBooksList(Books) {
    let displayBooks = Books.map(function (book) {

        return `<article class="book">
        <img src="${book.bookCover}" alt="book cover" class="book-cover">
        <h2>${book.name}</h3>
        <h3>Author: ${book.author}</h3>
        <h3>Category: ${book.category}</h3>
        <h3>Price: $${book.price}</h4>
        <button type="button"><a href="${book.link}" target="_blank">Shop Now</a></button>
    </article>`;
    });

    displayBooks = displayBooks.join('');
    booksContainer.innerHTML = displayBooks;

    //modal
    modalBtn = document.querySelectorAll('.book-cover');
};


//display btns
function displayBtnCategories() {
    const categories = library.reduce(function (values, book) {
        if (!values.includes(book.category)) {
            values.push(book.category);
        }
        return values;
    }, ['All Categories']);

    let categoryBtns = categories.map(function (category) {
        return `<button type="button" class="btn" data-id="${category}">${category}</button>`;

    }).join('');
    btnsContainer.innerHTML = categoryBtns;

    //filter books
    const btns = document.querySelectorAll('.btn');

    btns.forEach(function (btn) {
        btn.addEventListener('click', function (e) {
            const category = e.currentTarget.dataset.id;
            const bookCategory = library.filter(function (book) {

                if (book.category === category) {
                    return book;
                };
            });

            if (category === 'All Categories') {
                displayBooksList(library);
            } else {
                displayBooksList(bookCategory);
            };

            displayModal(bookCategory);

        });
    });
};




//display modal

function displayModal() {
    const modal = document.querySelector('.modal');
    const bookName = document.getElementById('book-name');
    const bookDescription = document.getElementById('book-decription');
    const shopBtn = document.getElementById('shop-link');
    const closeBtn = document.getElementById('close-btn');

    modalBtn.forEach(function (btn) {
        btn.addEventListener('click', function (e) {
            modal.classList.add('active');

            const bookProp = e.currentTarget.parentElement.children[1].innerHTML;

            const addProp = library.map(function (book) {
                if (bookProp === book.name) {
                    return [bookName.innerHTML = book.name, bookDescription.innerHTML = book.description, shopBtn.href = book.link];
                };
            });
        });
    });


    window.addEventListener('click', function (e) {
        if (e.target == modal) {
            modal.classList.remove('active');
        };
    });

    closeBtn.addEventListener('click', function () {
        modal.classList.remove('active');
    });
};



//navbar

const burger = document.querySelector('.burger');
const nav = document.querySelector('.nav-links');
const navLinks = document.querySelectorAll('.nav-links a')

burger.addEventListener('click', function() {
    nav.classList.toggle('nav-active');
    burger.classList.toggle('burger-active')

    navLinks.forEach((link, index) => {
        if (link.style.animation) {
            link.style.animation = '';
        } else {
            link.style.animation = `navLinksFade 0.5s ease forwards ${index / 9 + 0.15}s`;
        }
    })
})

